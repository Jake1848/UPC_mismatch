(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{5919:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/upload",function(){return s(9019)}])},2971:function(e,a,s){"use strict";s.d(a,{W:function(){return i}});var r=s(4246);s(7378);var t=s(2924);let i=e=>{let{children:a,className:s="",hover:i=!0,gradient:l=!1,onClick:n,animate:o=!0,delay:d=0}=e,c=["relative backdrop-blur-xl","bg-white/25 dark:bg-gray-800/25","border border-white/20 dark:border-white/10","rounded-xl","shadow-xl","overflow-hidden","transition-all duration-300 ease-out",i&&"hover:shadow-2xl hover:-translate-y-1 hover:bg-white/30 dark:hover:bg-gray-800/30",n&&"cursor-pointer",s].filter(Boolean).join(" "),x=(0,r.jsxs)("div",{className:c,onClick:n,children:[(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,r.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full opacity-10 bg-gradient-to-r from-transparent via-white to-transparent transform rotate-45 translate-x-[-100%]"})}),l&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-purple-500/10"}),(0,r.jsx)("div",{className:"relative z-10",children:a})]});return o?(0,r.jsx)(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d,ease:[.4,0,.2,1]},whileHover:i?{y:-4,scale:1.02}:void 0,whileTap:n?{scale:.98}:void 0,children:x}):x}},9019:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return w}});var r=s(4246),t=s(7378),i=s(2924),l=s(6522),n=s(6677),o=s(21),d=s(1842),c=s(4589),x=s(6113),m=s(8110),h=s(1337),u=s(2640),p=s(8101),g=s(2556),f=s(3824),y=s(5332),j=s(2971);let v=e=>{let{onUploadComplete:a,maxFileSize:s=104857600,acceptedFileTypes:l=[".csv",".xlsx",".xls"]}=e,[n,v]=(0,t.useState)([]),[b,w]=(0,t.useState)(!1),N=(0,f.s)(),k=(0,t.useRef)(null);t.useEffect(()=>(N.on("analysis:progress",E),N.on("analysis:complete",C),()=>{N.off("analysis:progress",E),N.off("analysis:complete",C)}),[]);let E=e=>{v(a=>a.map(a=>a.analysisId===e.analysisId?{...a,progress:e.progress,status:"processing"}:a))},C=e=>{v(a=>a.map(a=>a.analysisId===e.analysisId?{...a,progress:100,status:"completed"}:a)),a&&a(e.analysisId)},U=(0,t.useCallback)(async e=>{for(let r of(w(!1),e)){var a;if(r.size>s){y.Am.error("File ".concat(r.name," is too large. Maximum size is ").concat(s/1024/1024,"MB"));continue}let e="."+(null===(a=r.name.split(".").pop())||void 0===a?void 0:a.toLowerCase());if(!l.includes(e)){y.Am.error("File type ".concat(e," is not supported. Accepted types: ").concat(l.join(", ")));continue}Date.now();let t={file:r,progress:0,status:"uploading"};v(e=>[...e,t]);try{let e=await g.ZJ.upload(r),{analysisId:a}=e.data;v(e=>e.map(e=>e.file===r?{...e,analysisId:a,progress:10,status:"processing"}:e)),N.subscribeToAnalysis(a)}catch(e){console.error("Upload failed:",e),v(a=>a.map(a=>{var s,t;return a.file===r?{...a,status:"error",error:(null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Upload failed"}:a})),y.Am.error("Failed to upload ".concat(r.name))}}},[s,l,a,N]),{getRootProps:M,getInputProps:S,isDragActive:Z}=(0,p.uI)({onDrop:U,accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"]},multiple:!0,onDragEnter:()=>w(!0),onDragLeave:()=>w(!1)}),_=e=>{v(a=>a.filter(a=>a.file!==e))},P=e=>{U([e])},T=e=>{switch(e){case"uploading":case"processing":return(0,r.jsx)(d.Z,{className:"w-5 h-5 text-blue-500 animate-spin"});case"completed":return(0,r.jsx)(c.Z,{className:"w-5 h-5 text-green-500"});case"error":return(0,r.jsx)(x.Z,{className:"w-5 h-5 text-red-500"})}},D=e=>{switch(e.status){case"uploading":return"Uploading...";case"processing":return"Processing... ".concat(e.progress,"%");case"completed":return"Analysis completed";case"error":return e.error||"Upload failed"}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(j.W,{className:"overflow-hidden",children:(0,r.jsxs)(i.E.div,{...M(),className:"\n            relative p-12 text-center cursor-pointer transition-all duration-300\n            ".concat(b||Z?"bg-primary-50/50 dark:bg-primary-900/20 border-primary-300 dark:border-primary-600":"hover:bg-white/30 dark:hover:bg-gray-800/30","\n          "),whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,r.jsx)("input",{...S(),ref:k}),(0,r.jsx)(i.E.div,{animate:{y:b||Z?-10:0,scale:b||Z?1.1:1},transition:{duration:.2},className:"mb-6",children:(0,r.jsx)(m.Z,{className:"w-16 h-16 mx-auto text-primary-500 dark:text-primary-400"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:b||Z?"Drop files here":"Upload warehouse data"}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Drag and drop your CSV or Excel files, or"," ",(0,r.jsx)("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:"browse files"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:["Supports CSV, XLSX, XLS • Max ",s/1024/1024,"MB per file"]})]}),(0,r.jsx)(o.M,{children:(b||Z)&&(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary-200/20 to-transparent",style:{background:"linear-gradient(90deg, transparent 0%, rgba(59, 130, 246, 0.1) 50%, transparent 100%)",animation:"shimmer 2s infinite"}})})]})}),(0,r.jsx)(o.M,{children:n.length>0&&(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,r.jsx)(j.W,{children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Progress"}),(0,r.jsx)("div",{className:"space-y-4",children:n.map((e,a)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center space-x-4 p-4 rounded-lg bg-white/20 dark:bg-gray-800/20 border border-white/10",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(h.Z,{className:"w-8 h-8 text-gray-600 dark:text-gray-400"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.file.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[T(e.status),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:D(e)})]}),("uploading"===e.status||"processing"===e.status)&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,r.jsx)(i.E.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(e.progress,"%")},transition:{duration:.3}})})})]}),(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center space-x-2",children:["error"===e.status&&(0,r.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(e.file),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:(0,r.jsx)(d.Z,{className:"w-4 h-4"})}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_(e.file),className:"p-1 rounded-full text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})})]})]},"".concat(e.file.name,"-").concat(a)))})]})})})}),(0,r.jsx)(j.W,{children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Smart Column Detection"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Supported Formats"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• CSV files with any delimiter"}),(0,r.jsx)("li",{children:"• Excel files (.xlsx, .xls)"}),(0,r.jsx)("li",{children:"• Custom warehouse formats"}),(0,r.jsxs)("li",{children:["• Files up to ",s/1024/1024,"MB"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Auto-Detected Columns"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• UPC/Barcode/GTIN codes"}),(0,r.jsx)("li",{children:"• SKU/Product identifiers"}),(0,r.jsx)("li",{children:"• Warehouse/Location data"}),(0,r.jsx)("li",{children:"• Pricing and inventory"})]})]})]})]})})]})};var b=s(8748);function w(){let e=(0,n.useRouter)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,r.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-radial from-primary-200/30 via-transparent to-transparent dark:from-primary-900/20"}),(0,r.jsx)("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-radial from-secondary-200/30 via-transparent to-transparent dark:from-secondary-900/20"})]}),(0,r.jsx)("header",{className:"relative z-10 border-b border-white/20 dark:border-white/10 backdrop-blur-xl bg-white/10 dark:bg-gray-800/10",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e.back(),className:"p-2 rounded-full bg-white/20 dark:bg-gray-800/20 hover:bg-white/30 dark:hover:bg-gray-800/30 transition-colors",children:(0,r.jsx)(l.Z,{className:"w-5 h-5 text-gray-900 dark:text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Data Files"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload your warehouse data for UPC conflict analysis"})]})]}),(0,r.jsx)(b.T,{})]})})}),(0,r.jsxs)("main",{className:"relative z-10 max-w-4xl mx-auto px-6 py-8",children:[(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsx)(v,{onUploadComplete:a=>{e.push("/app/analysis/".concat(a))}})}),(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-8",children:(0,r.jsx)(j.W,{children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Need Help?"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"File Requirements"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,r.jsx)("li",{children:"• Files must contain UPC/barcode data"}),(0,r.jsx)("li",{children:"• Include warehouse or location identifiers"}),(0,r.jsx)("li",{children:"• CSV files should have headers in the first row"}),(0,r.jsx)("li",{children:"• Excel files can have multiple sheets (first sheet used)"}),(0,r.jsx)("li",{children:"• Maximum file size: 100MB"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"What Happens Next?"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,r.jsx)("li",{children:"• Smart column detection identifies data structure"}),(0,r.jsx)("li",{children:"• Files are processed for UPC conflicts"}),(0,r.jsx)("li",{children:"• Real-time progress updates via notifications"}),(0,r.jsx)("li",{children:"• Detailed analysis results with conflict breakdown"}),(0,r.jsx)("li",{children:"• Automatic team notifications for critical issues"})]})]})]}),(0,r.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,r.jsx)("strong",{children:"Pro Tip:"})," Our smart column detection works with any warehouse format. You don't need to format your data - just upload it as-is and we'll handle the rest!"]})})]})})})]})]})}},6522:function(e,a,s){"use strict";var r=s(7378);let t=r.forwardRef(function({title:e,titleId:a,...s},t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});a.Z=t},4589:function(e,a,s){"use strict";var r=s(7378);let t=r.forwardRef(function({title:e,titleId:a,...s},t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.Z=t}},function(e){e.O(0,[441,774,888,179],function(){return e(e.s=5919)}),_N_E=e.O()}]);