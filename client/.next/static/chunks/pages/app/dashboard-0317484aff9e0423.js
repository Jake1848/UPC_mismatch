(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{5566:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/dashboard",function(){return a(1456)}])},2971:function(e,t,a){"use strict";a.d(t,{W:function(){return l}});var s=a(4246);a(7378);var r=a(2924);let l=e=>{let{children:t,className:a="",hover:l=!0,gradient:i=!1,onClick:d,animate:n=!0,delay:c=0}=e,o=["relative backdrop-blur-xl","bg-white/25 dark:bg-gray-800/25","border border-white/20 dark:border-white/10","rounded-xl","shadow-xl","overflow-hidden","transition-all duration-300 ease-out",l&&"hover:shadow-2xl hover:-translate-y-1 hover:bg-white/30 dark:hover:bg-gray-800/30",d&&"cursor-pointer",a].filter(Boolean).join(" "),x=(0,s.jsxs)("div",{className:o,onClick:d,children:[(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,s.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full opacity-10 bg-gradient-to-r from-transparent via-white to-transparent transform rotate-45 translate-x-[-100%]"})}),i&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-purple-500/10"}),(0,s.jsx)("div",{className:"relative z-10",children:t})]});return n?(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c,ease:[.4,0,.2,1]},whileHover:l?{y:-4,scale:1.02}:void 0,whileTap:d?{scale:.98}:void 0,children:x}):x}},1456:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(4246),r=a(7378),l=a(2924),i=a(4589),d=a(752),n=a(7265),c=a(8229),o=a(8024),x=a(6113),m=a(92);let h=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});var g=a(8110),u=a(4250),p=a(3824),v=a(2556),b=a(2971),j=a(8748),f=a(9720);function y(){var e;let{user:t,organization:a,isAnalyst:y,checkTrialStatus:w}=(0,u.a)(),N=(0,p.s)(),[k,C]=(0,r.useState)(null),[E,Z]=(0,r.useState)([]),[A,L]=(0,r.useState)([]),[M,T]=(0,r.useState)(!0),_=w();(0,r.useEffect)(()=>(R(),N.on("analysis:complete",P),N.on("conflict:new",W),()=>{N.off("analysis:complete",P),N.off("conflict:new",W)}),[]);let R=async()=>{try{T(!0);let[e,t,a]=await Promise.all([v.ZJ.getAll({limit:5}),v.A8.getAll({severity:"CRITICAL",status:"PENDING",limit:5}),v.A8.getStats()]);Z(e.data.analyses),L(t.data.conflicts),C(a.data)}catch(e){console.error("Failed to load dashboard data:",e)}finally{T(!1)}},P=e=>{R()},W=e=>{"CRITICAL"===e.conflict.severity&&L(t=>[e.conflict,...t].slice(0,5))},H=e=>{switch(e){case"COMPLETED":return(0,s.jsx)(i.Z,{className:"w-5 h-5 text-green-500"});case"FAILED":return(0,s.jsx)(d.Z,{className:"w-5 h-5 text-red-500"});case"PROCESSING":return(0,s.jsx)(n.Z,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return(0,s.jsx)(c.Z,{className:"w-5 h-5 text-yellow-500"})}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,s.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-radial from-primary-200/30 via-transparent to-transparent dark:from-primary-900/20"}),(0,s.jsx)("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-radial from-secondary-200/30 via-transparent to-transparent dark:from-secondary-900/20"})]}),(0,s.jsx)("header",{className:"relative z-10 border-b border-white/20 dark:border-white/10 backdrop-blur-xl bg-white/10 dark:bg-gray-800/10",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.Z,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"UPC Conflict Resolver"})]}),_.isTrialActive&&(0,s.jsx)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"px-3 py-1 rounded-full bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:["Trial: ",_.daysLeft," days left"]})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null==t?void 0:t.name)||(null==t?void 0:t.email)}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:null==a?void 0:a.name})]}),(0,s.jsx)(j.T,{})]})]})})}),(0,s.jsxs)("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(b.W,{children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Analyses"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==k?void 0:k.totalAnalyses)||0})]}),(0,s.jsx)("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})})}),(0,s.jsx)(b.W,{children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Conflicts"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==k?void 0:k.pendingConflicts)||0})]}),(0,s.jsx)("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-900/30",children:(0,s.jsx)(x.Z,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})}),(0,s.jsx)(b.W,{children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rows Processed"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==k?void 0:null===(e=k.totalRows)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,s.jsx)("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})}),(0,s.jsx)(b.W,{children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Team Members"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==a?void 0:a.memberCount)||(null==a?void 0:a.maxUsers)||1})]}),(0,s.jsx)("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/30",children:(0,s.jsx)(h,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsx)(b.W,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Analyses"}),M?(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},t))}):0===E.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(g.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No analyses yet. Upload your first file to get started!"})]}):(0,s.jsx)("div",{className:"space-y-3",children:E.map(e=>{var t;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 rounded-lg bg-white/20 dark:bg-gray-800/20 border border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[H(e.status),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.fileName}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,f.Z)(new Date(e.createdAt))," ago"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[null===(t=e.totalRecords)||void 0===t?void 0:t.toLocaleString()," rows"]}),e.duplicateUPCs>0&&(0,s.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400",children:[e.duplicateUPCs," conflicts"]})]})]},e.id)})})]})}),(0,s.jsx)(b.W,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Critical Conflicts"}),M?(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},t))}):0===A.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(i.Z,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No critical conflicts. Great work!"})]}):(0,s.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.type.replace("_"," ")}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["UPC: ",e.upc]}),e.costImpact&&(0,s.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Cost Impact: $",e.costImpact.toLocaleString()]})]}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",children:e.severity})]})},e.id))})]})})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(b.W,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center justify-center space-x-2 p-4 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors",onClick:()=>window.location.href="/app/upload",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Upload New File"})]}),(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center justify-center space-x-2 p-4 rounded-lg bg-white/20 dark:bg-gray-800/20 border border-white/20 dark:border-white/10 hover:bg-white/30 dark:hover:bg-gray-800/30 text-gray-900 dark:text-white transition-colors",onClick:()=>window.location.href="/app/conflicts",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"View All Conflicts"})]}),(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center justify-center space-x-2 p-4 rounded-lg bg-white/20 dark:bg-gray-800/20 border border-white/20 dark:border-white/10 hover:bg-white/30 dark:hover:bg-gray-800/30 text-gray-900 dark:text-white transition-colors",onClick:()=>window.location.href="/app/reports",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Generate Report"})]})]})]})})})]})]})}},7265:function(e,t,a){"use strict";var s=a(7378);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});t.Z=r},8024:function(e,t,a){"use strict";var s=a(7378);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});t.Z=r}},function(e){e.O(0,[411,774,888,179],function(){return e(e.s=5566)}),_N_E=e.O()}]);